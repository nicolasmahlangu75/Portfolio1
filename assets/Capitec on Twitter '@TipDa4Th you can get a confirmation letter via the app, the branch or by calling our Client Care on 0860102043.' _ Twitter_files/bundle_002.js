(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{"ll/Q":function(e,t,r){"use strict";r.r(t),r.d(t,"UserProfileScreenContainer",(function(){return br}));var s=r("97Jx"),n=r.n(s),a=r("ERkP"),i=(r("x4t0"),r("WNMA"),r("P1r1")),o=r("oEGd"),l=r("0KEI"),c=r("hqKg"),d=r("zh9S"),u=r("QK5w"),h=r("G6rE");const m=(e,t)=>{const{location:r,match:s}=t;return s&&s.params&&s.params.screenName?s.params.screenName:r&&r.query&&r.query.screen_name&&"string"==typeof r.query.screen_name?r.query.screen_name:""},p=(e,t)=>h.e.selectByScreenName(e,m(0,t)),f=Object(h.g)([h.a]),_=Object(c.createSelector)(u.a,i.k,(e,t)=>f(e,m(0,t)),(e,t)=>t.location.pathname.includes("/intent/"),(e,t)=>h.e.selectIsUserNotFound(e,m(0,t)),(e,t)=>{const r=p(e,t);return!!r&&h.e.selectIsLoading(e,r.id_str)},(e,t)=>h.e.selectIsUserSuspended(e,m(0,t)),(e,t)=>h.e.selectIsUserWithheld(e,m(0,t)),(e,t)=>{const{location:r}=t,{promotedTweetState:s}=r&&r.state||{},n=p(e,t);return s||n&&n.promoted_content},m,p,(e,t)=>{const r=p(e,t);return r&&r.profile_interstitial_type?r.profile_interstitial_type:null},(e,t,r,s,n,a,i,o,l,c,d,u)=>({displaySensitiveMedia:t,fetchStatus:r,isInitialScreen:!e,isIntentRoute:s,isNotFound:n,isRefreshing:a,isSuspended:i,isWithheld:o,promotedContent:l,screenName:c,user:d,userProfileInterstitialType:u})),b={createLocalApiErrorHandler:Object(l.d)("USER_PROFILE_SCREEN"),fetchOneUser:h.e.fetchOne,fetchOneByScreenNameWithExtraFieldsIfNeeded:h.e.createFetchOneByScreenNameWithExtraFieldsIfNeeded([h.a,h.b,h.c,h.d]),fetchSettingsIfNeeded:i.e,scribeAction:d.c};var w=Object(o.g)(_,b),E=r("txMZ"),g=(r("jQ/y"),r("IAdD"),r("JtPf"),r("kYxP"),r("KEM+")),y=r.n(g),P=r("aeN7"),S=r("s4rk"),I=r("zI2C"),C=r("v6aA"),O=r("6ZtA"),k=r("es0u"),v=r("I/ms"),T=r("TIdA"),x=r("cHvH"),F=r("oSwX"),N=r("rHpw");const U=T.a.createLayoutCache();var L=({user:e,isOwnProfile:t,isWithheld:r})=>{const s=!t&&r,n=s||!e.profile_image_url_https?void 0:e.profile_image_url_https;return a.createElement(x.a,null,({windowWidth:t})=>a.createElement(F.default,{imageLayoutCache:U,link:s?void 0:{pathname:`/${e.screen_name}/photo`},size:"custom",style:[v.a.avatar,t>=N.a.theme.breakpoints.medium?v.a.wideAvatar:v.a.narrowAvatar],uri:n}))},B=r("RCZO"),R=r("MWbm"),A=r("n4Eu"),W=r("cm6r"),j=r("A91F"),D=r("9Xij");const M=T.a.createLayoutCache();var H=({user:e,isWithheld:t,isOwnProfile:r})=>{const s=!r&&t,n=e.profile_banner_extensions_media_color&&e.profile_banner_extensions_media_color.palette,i=n&&A.a.get(n),o=i?Object(B.g)(i):N.a.theme.colors.gray200;return!s&&e.profile_banner_url?a.createElement(W.a,{importantForAccessibility:"no-hide-descendants",link:`/${e.screen_name}/header_photo`},a.createElement(T.a,{accessibilityLabel:"",aspectMode:j.a.exact(N.a.theme.aspectRatios.profileBanner),backgroundColor:o,image:e.profile_banner_url,layoutCache:M})):a.createElement(R.a,{style:v.a.banner},a.createElement(D.a,{ratio:N.a.theme.aspectRatios.profileBanner,style:[{backgroundColor:o}]}))},$=r("3nOA"),V=r("I57f"),q=r("uIZp"),G=r("3XMw"),z=r.n(G),Q=r("SOvA"),K=r("vYiB"),Y=r("Y49K"),J=r("Irs7"),X=r("/yvb"),Z=r("ACHU"),ee=r("rsoE"),te=r("vMjK");const re=z.a.h63a5c3b,se=a.createElement(Z.a,null);class ne extends a.PureComponent{constructor(...e){super(...e),y()(this,"_renderUserMenu",e=>{const{promotedContent:t,user:r}=this.props;return a.createElement(te.b,{onClose:e,promotedContent:t,user:r})})}render(){const{buttonStyle:e,buttonType:t}=this.props;return a.createElement(X.a,{accessibilityLabel:re,hoverLabel:{label:re},icon:se,renderMenu:this._renderUserMenu,style:e,testID:ee.a.userActions,type:t})}}y()(ne,"defaultProps",{buttonType:"secondary"});var ae=r("h+EW");const ie=z.a.g7088266,oe=z.a.gd7acb84,le=z.a.b7636014,ce=a.createElement(Q.a,null),de=N.a.create(e=>({buttons:{maxWidth:"100%",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-end",flexWrap:"wrap"},button:{marginEnd:e.spaces.space8,marginBottom:e.spaces.space12},lastButton:{marginBottom:e.spaces.space12}}));var ue=({isWithheld:e,loggedInUserId:t,onFollowButtonOffscreen:r,promotedContent:s,user:n,history:i})=>{const{featureSwitches:o}=a.useContext(C.a),l=o.getStringValue("responsive_web_better_stateful_buttons_variant"),c=Object(ae.a)(l),d=Object(ae.c)(l),u=Object(J.b)(),h=n.id_str===t,m=n.blocked_by,p=n.blocking,f=e&&!h,_=n.can_dm&&t&&!p&&!m&&!f,b=t&&n&&!h&&!f,w=n.following&&t&&!p&&!m&&!e,E=n.default_profile_image&&!n.description&&!n.profile_banner_url;return a.createElement(R.a,{style:de.buttons},t&&h?a.createElement(X.a,{link:E?"/i/flow/setup_profile":"/settings/profile",style:de.lastButton,type:d},E?oe:ie):null,b&&a.createElement(ne,{buttonStyle:de.button,buttonType:d,promotedContent:s,user:n}),!h&&_&&a.createElement(X.a,{accessibilityLabel:le,hoverLabel:{label:le},icon:ce,onPress:()=>{u.scribe({element:"message",action:"click"}),t&&i.push("/messages/"+Object($.a)(n.id_str,t))},style:de.button,testID:Y.a.sendDMFromProfile,type:d}),!h&&w&&a.createElement(V.a,{activeButtonType:c,allowPromptForPush:!0,inactiveButtonType:d,isFollowing:n.notifications,style:de.button,userId:n.id_str}),!h&&!m&&!f&&a.createElement(K.a,{onOffscreenChange:r},a.createElement(q.a,{promotedContent:s,style:de.lastButton,userId:n.id_str})))},he=r("tOzk"),me=r("YeIG"),pe=r("Je1/"),fe=r("uLiA"),_e=r("EJJl"),be=r("WWyu"),we=r("LhSm"),Ee=r("t62R"),ge=r("GWvE"),ye=r("KrGU"),Pe=r("I/9y"),Se=r("YUdS"),Ie=r("EjKN");const Ce=z.a.a1ea2f12,Oe=z.a.g8191e77,ke=e=>{const{day:t,month:r}=e;if(!t||!r)return;const s=new Date;return r===s.getMonth()+1&&t===s.getDate()},ve=N.a.create(e=>({description:{display:"block",marginBottom:e.spaces.space12},details:{display:"block",marginBottom:e.spaces.space12},detailsText:{lineHeight:e.spaces.space12}}));var Te=({user:e,isOwnProfile:t})=>{var r,s,n;const i=a.useRef(),o=null==(r=e.entities)||null==(s=r.url)||null==(n=s.urls)?void 0:n[0],l=e.birthdate;return a.createElement(a.Fragment,null,e.description?a.createElement(R.a,{style:ve.description},a.createElement(_e.a,{description:e.description,disableTranslation:!e.is_profile_translatable,entities:e.entities,testID:fe.a.userDescription,userId:e.id_str,withheldDescription:e.withheld_description,withheldEntities:e.withheld_entities})):null,a.createElement(R.a,{style:ve.details},a.createElement(Ee.c,{style:ve.detailsText,testID:fe.a.profileHeaderItems},e.location&&!Object(ge.a)(e.location)?a.createElement(pe.a,{Icon:ye.a},a.createElement(Ee.c,null,e.location)):null,o&&o.url?a.createElement(pe.a,{Icon:Pe.a,link:{pathname:o.url,external:!0}},o.display_url||o.url):null,!l||Object(me.a)(l)||l.visibility&&"self"===l.visibility.toLowerCase()&&l.year_visibility&&"self"===l.year_visibility.toLowerCase()?null:ke(l)?a.createElement(a.Fragment,null,a.createElement(pe.a,{Icon:Se.a,onPress:()=>{i.current&&i.current.launch()}},t?Ce:Oe),a.createElement(he.a,{setRef:e=>{i.current=e}})):a.createElement(pe.a,{Icon:Ie.a},a.createElement(be.a,{birthdate:l,withBornPrefixText:!0})),a.createElement(we.a,{joinDate:e.created_at}))))},xe=r("mN6z"),Fe=r("W27K"),Ne=r("1YZw"),Ue=r("rxPX");var Le=Object(Ue.a)().propsFromActions(()=>({addToast:Ne.b,createLocalApiErrorHandler:Object(l.d)("USER_PROFILE_HEADER"),unmute:h.e.unmute})),Be=r("8Usl"),Re=r("eb3s"),Ae=r("P2xQ");const We=z.a.cef4e8cf,je=z.a.ec294e62,De=z.a.df422dfe,Me=N.a.create(e=>({mute:{marginVertical:e.spaces.space12},unmuteButton:{cursor:"pointer"}}));var He=Le(({user:e,unmute:t,addToast:r,createLocalApiErrorHandler:s})=>{const[n,i]=a.useState(!1),{screen_name:o}=e;return a.createElement(a.Fragment,null,a.createElement(Ee.c,{color:"gray600",style:Me.mute},De,"Â ",a.createElement(Ee.c,{accessibilityRole:"button",color:"link",onPress:()=>{i(!0)},style:Me.unmuteButton,testID:Be.a.unmuteLink,withInteractiveStyling:!0},Ae.h)),n?a.createElement(Re.a,{confirmButtonLabel:Ae.h,headline:We({screenName:o}),onCancel:()=>{i(!1)},onConfirm:()=>{i(!1),t(e.id_str).then(()=>r({text:Object(Ae.d)(e.screen_name)}),s({showToast:!0}))},text:je}):null)}),$e=r("RgK2"),Ve=r.n($e),qe=r("A7Fw");const Ge=z.a.e839db39,ze=z.a.b74bd6c6,Qe=z.a.f15bfdb3,Ke=z.a.i859a9d3,Ye=N.a.create(e=>({content:{padding:e.spaces.space20},icon:{color:e.colors.badgeColor,fontSize:e.fontSizes.jumbo},button:{marginTop:e.spaces.space32},text:{marginTop:e.spaces.space12,textAlign:"center"}}));var Je=({dismiss:e,type:t})=>{const r=Object(J.b)();a.useEffect(()=>{r.scribe({component:"blue_badge_education_context",action:"show"})},[r]);const s=a.useCallback(()=>{r.scribe({component:"blue_badge_education_context",element:"support_url",action:"click"})},[r]);return a.createElement(R.a,{style:Ye.content},a.createElement(qe.a,{style:Ye.icon}),a.createElement(Ee.c,{size:"xLarge",style:Ye.text,weight:"bold"},Qe),a.createElement(Ee.c,{color:"gray600",style:Ye.text},ze," ",a.createElement(Ee.c,{link:"https://help.twitter.com/managing-your-account/about-twitter-verified-accounts",onClick:s},Ke)),"sheet"===t?a.createElement(X.a,{onClick:e,style:Ye.button,type:"neutral"},Ge):null)},Xe=r("jV+4"),Ze=r("ir4X");var et=({isOwnProfile:e,isWithheld:t,user:r})=>{const{featureSwitches:s}=a.useContext(C.a),i=t?Ve.a:{isProtected:!!r.protected,isVerified:!!r.verified,translatorType:r.translator_type},o=r.name&&r.screen_name&&!(t&&!e),l=o?r.name:"@"+r.screen_name,c=a.useCallback((e,t)=>a.createElement(Je,{dismiss:e,type:t}),[]),d=s.isTrue("identity_verification_educational_prompt_enabled");return a.createElement(R.a,{style:v.a.names},a.createElement(Xe.a,n()({},i,{badgeContext:"account",name:l,nameSize:"large",renderVerifiedBadgeContext:d?c:void 0,screenName:o?r.screen_name:void 0,weight:"heavy",withFollowsYou:r.followed_by&&!t,withNameWrap:!0,withStackedLayout:!0})),r.highlightedLabel?a.createElement(Ze.a,{label:r.highlightedLabel}):null)},tt=r("zb92"),rt=Object(tt.a)({loader:()=>r.e(147).then(r.bind(null,"Gffe"))}),st=r("7JQg"),nt=r("7wqI"),at=r("Jkc4"),it=r("wCd/");var ot=({user:e,isOwnProfile:t})=>{const{followers_count:r,friends_count:s,screen_name:n}=e;return a.createElement(at.a,null,i=>a.createElement(it.a,{followersCount:r,friendsCount:s,onPress:i(),screenName:n,withLink:Object(nt.b)({isOwnProfile:t,user:e})}))};const lt={page:"profile",section:"header"};class ct extends a.Component{constructor(e,t){super(e,t),y()(this,"_handleRemoveClusterFollow",()=>{this.setState({shouldShowClusterFollow:!1})}),this.state={shouldShowClusterFollow:!1}}shouldComponentUpdate(e,t){return!Object(xe.a)(t,this.state)||!Object(xe.a)(e,this.props)}componentDidUpdate(e){!0===this.props.user.following&&!1===e.user.following&&this.setState({shouldShowClusterFollow:!0}),this.props.user.id_str!==e.user.id_str&&this.setState({shouldShowClusterFollow:!1})}render(){const{isWithheld:e,loggedInUserId:t,user:r}=this.props,s=this._isOwnProfile(),n=!s&&(r.blocking||r.blocked_by||e),i=!s&&(r.blocked_by||e),o=!t||s||r.blocking||r.blocked_by||e||r.protected&&!r.following;return a.createElement(st.b,{namespace:lt},a.createElement(R.a,null,a.createElement(H,{isOwnProfile:s,isWithheld:e,user:r}),a.createElement(R.a,{style:[v.a.content,dt.content,n&&v.a.withheld]},a.createElement(R.a,{style:dt.avatarAndButtons},a.createElement(L,{isOwnProfile:s,isWithheld:e,user:r}),a.createElement(ue,{history:this.props.history,isWithheld:e,loggedInUserId:t,onFollowButtonOffscreen:this.props.onFollowButtonOffscreen,promotedContent:this.props.promotedContent,user:r})),a.createElement(et,{isOwnProfile:s,isWithheld:e,user:r}),n?null:a.createElement(Te,{isOwnProfile:s,user:r}),i?null:a.createElement(ot,{isOwnProfile:s,user:r}),o?null:a.createElement(R.a,{style:dt.marginTopXSmall},a.createElement(Fe.a,{userId:r.id_str,userScreenName:r.screen_name})),r.muting?a.createElement(He,{user:r}):null),this.state.shouldShowClusterFollow?this._renderProfileClusterFollow():null))}_isOwnProfile(){const{loggedInUserId:e,user:{id_str:t}}=this.props;return e===t}_renderProfileClusterFollow(){const{user:e}=this.props;return a.createElement(rt,{onRemoveClusterFollow:this._handleRemoveClusterFollow,userId:e.id_str})}}y()(ct,"contextType",C.a);const dt=N.a.create(e=>({avatarAndButtons:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap"},content:{marginBottom:e.spaces.space16},marginTopXSmall:{marginTop:e.spaces.space12}}));var ut=ct,ht=r("8UdT"),mt=r("dwig"),pt=r("GOQE"),ft=r("kGix"),_t=r("v//M"),bt=r("0+qk"),wt=r("drnk"),Et=r("iFPY"),gt=r("oQhu"),yt=r("rJoH"),Pt=r("Y6L+"),St=r("jS2K"),It=r("IG4P");class Ct extends a.Component{shouldComponentUpdate(e){return!Object(xe.a)(e,this.props)}render(){const{shouldDisplayUserActionSheet:e,fullUser:t}=this.props;return a.createElement(R.a,null,this._renderBanner(),a.createElement(R.a,{style:[v.a.content,v.a.withheld]},a.createElement(R.a,{style:v.a.avatarAndButton},this._renderAvatar(),e&&t&&a.createElement(ne,{buttonStyle:v.a.menuSheetButton,user:t})),this._renderNames()))}_renderAvatar(){const{avatarAccessibilityLabel:e}=this.props;return a.createElement(x.a,null,({windowWidth:t})=>a.createElement(R.a,{accessibilityState:{hidden:!0},style:[v.a.avatar,t>=N.a.theme.breakpoints.medium?v.a.wideAvatar:v.a.narrowAvatar]},a.createElement(F.default,{accessibilityLabel:e,size:"custom"})))}_renderBanner(){return a.createElement(R.a,{style:v.a.banner},a.createElement(D.a,{ratio:N.a.theme.aspectRatios.profileBanner}))}_renderNames(){const{fullUser:e,restrictedUser:t}=this.props,r=e||t,s=r.name&&r.screen_name,n=s?r.name:"@"+r.screen_name;return a.createElement(R.a,{style:v.a.names},a.createElement(Xe.a,{name:n,nameSize:"large",screenName:s?r.screen_name:void 0,withStackedLayout:!0}))}}var Ot=r("wytG"),kt=r("VS6U");r("muX9");var vt=r("ipry"),Tt=r("Qayx"),xt=r("G8HL"),Ft=r("mw9i"),Nt=r("zfvc"),Ut=r("FIs5"),Lt=r("Q0VY"),Bt=r("FiRh"),Rt=r("0yYu"),At=r("k/OQ"),Wt=r("zCf4");const jt=z.a.h1658541,Dt=z.a.b5447710,Mt=z.a.fa98627a,Ht=z.a.a2811f96,$t=z.a.c6ea308b,Vt=z.a.d67658c0,qt=z.a.ccc9153f,Gt=z.a.bab1f8b0,zt=z.a.a52b03a5,Qt=z.a.add55c97,Kt=z.a.d7b8eba9,Yt=z.a.ica87fde,Jt=z.a.e79ed125,Xt=z.a.g8475f82,Zt=z.a.c9a1cb5d,er=z.a.e7b201dd,tr=z.a.d09e12c4,rr=z.a.gbf342a4,sr=z.a.eeab4adf,nr=z.a.d834ab9c,ar={section:"profile_interstitial"},ir=Object(Ot.a)(()=>Promise.all([r.e(0),r.e(86)]).then(r.bind(null,"8KtR"))),or=Object(Ot.a)(()=>Promise.all([r.e(0),r.e(86)]).then(r.bind(null,"ivpD"))),lr=Object(Ot.a)(()=>Promise.all([r.e(0),r.e(86)]).then(r.bind(null,"ylAD"))),cr="likes",dr="media",ur="with_replies",hr=Object(gt.a)(e=>()=>({defaultText:e}));class mr extends a.Component{constructor(e,t){super(e,t),y()(this,"_renderContainer",()=>{const{fetchStatus:e,isRefreshing:t,isSuspended:r,screenName:s,isNotFound:n}=this.props,i=r||n;return a.createElement(It.a,{isRefreshing:t,onRefresh:this._handlePullToRefresh},a.createElement(R.a,{style:fr.containerGrow},a.createElement(Ft.a,null,a.createElement(_t.a,{accessibilityLabel:qt({screenName:s}),fetchStatus:i?ft.a.LOADED:e,onRequestRetry:this._handleRequestRetry,render:this._renderHeaderAndContent}))))}),y()(this,"_renderHeaderAndContent",()=>a.createElement(a.Fragment,null,this._renderHeader(),this._renderContent())),y()(this,"_renderContent",()=>{const{isSuspended:e,isWithheld:t,user:r,isNotFound:s}=this.props,{showBlockedTweets:n}=this.state,a=this._isViewingOwnProfile();return e?this._renderUserProfileSuspended():s?this._renderUserNotFound():t&&a?this._renderLoggedInUserProfileWithheld():t?this._renderUserProfileWithheld():this._shouldShowProfileInterstitial()?this._renderUserProfileInterstitialed():r&&r.blocked_by?this._renderUserProfileBlockedBy():r&&r.blocking&&!n?this._renderUserProfileBlocking():this._isProtectedFromViewer()?this._renderUserProfileProtected():this._renderUserProfileDefault()}),y()(this,"_isGraphQL",()=>!0===this.context.featureSwitches.getValueWithoutScribeImpression("responsive_web_graphql_profile_timeline")),y()(this,"_isViewingOwnProfile",()=>{const{loggedInUserId:e}=this.context,{user:t}=this.props;return t&&e===t.id_str}),y()(this,"_shouldShowProfileInterstitial",(e=this.props.userProfileInterstitialType)=>{const{displaySensitiveMedia:t,user:r}=this.props;if(!r||!e)return!1;const{showBlockedTweets:s,userProfileInterstitialDismissed:n}=this.state,a=r.blocking&&!s,i=r.blocked_by,o=(e===vt.a.SensitiveMedia||e===vt.a.OffensiveProfileContent)&&(r.following||t);return!(this._isViewingOwnProfile()||this._isProtectedFromViewer()||a||i||n||o)}),y()(this,"_isProtectedFromViewer",()=>{const{user:e}=this.props;return e&&e.protected&&!this._isViewingOwnProfile()&&!e.following}),y()(this,"_handleRequestRetry",()=>{this._fetchOneUserIfNeeded(this.props)}),y()(this,"_handlePullToRefresh",()=>{const{user:e}=this.props;e?this._fetchOneUser(e.id_str):this._fetchOneUserIfNeeded(this.props)}),y()(this,"_handleShowBlockedTweets",()=>{this.setState({showBlockedTweets:!0})}),y()(this,"_handleOnConfirmProfileInterstitial",()=>{const{scribeAction:e,scribeNamespace:t}=this.props;this.setState({userProfileInterstitialDismissed:!0}),e(Object.assign({},t,ar,{action:"click"}))}),y()(this,"_handleEntriesUpdate",({entries:e,fetchStatus:t})=>{const{recordTTFL:r}=this.props;if(t===ft.a.FAILED&&(this._shouldRecordTTFL=!1),this._shouldRecordTTFL&&e.length){const t=e.some(({type:e})=>e===ht.b.Tweet);this._shouldRecordTTFL=!1;const s={source:this._isGraphQL()?"graphql":"rest"};t&&r("profile",s)}}),y()(this,"_handleFollowButtonOffscreen",({isOffscreen:e})=>{this.setState({showFollowButtonRightControl:e})}),this._shouldRecordTTFL=e.isInitialScreen,this._shouldRecordTTFMC=e.isInitialScreen,this.state={userProfileInterstitialDismissed:!1,showBlockedTweets:!1,showFollowButtonRightControl:!1}}UNSAFE_componentWillMount(){const{createLocalApiErrorHandler:e,fetchSettingsIfNeeded:t,scribeAction:r,scribeNamespace:s}=this.props;this._fetchOneUserIfNeeded(this.props),t().catch(e()).then(()=>{this._shouldShowProfileInterstitial()&&r(Object.assign({},s,ar,{action:"impression"}))})}componentDidUpdate(e){const{fetchStatus:t,recordTTFMC:r}=this.props;if(e.fetchStatus!==t&&t===ft.a.FAILED)this._shouldRecordTTFMC=!1;else if(this._shouldRecordTTFMC&&e.fetchStatus!==t&&t===ft.a.LOADED&&this._isValidProfile()){r("profile",{source:this._isGraphQL()?"graphql":"rest"}),this._shouldRecordTTFMC=!1}e.user&&!e.user.blocking&&this.props.user&&this.props.user.blocking&&(window.scrollTo(0,0),this.setState({showBlockedTweets:!1}))}UNSAFE_componentWillReceiveProps(e){const{screenName:t,scribeAction:r,scribeNamespace:s,userProfileInterstitialType:n}=this.props;e.screenName!==t?(this._fetchOneUserIfNeeded(e),this.setState({userProfileInterstitialDismissed:!1})):!n&&this._shouldShowProfileInterstitial(e.userProfileInterstitialType)&&r(Object.assign({},s,ar,{action:"impression"}))}render(){const{loggedInUserId:e}=this.context,{fetchStatus:t,history:r,isSuspended:s,location:n,screenName:i,user:o,isIntentRoute:l,isNotFound:c,isWithheld:d}=this.props,u=this._isViewingOwnProfile(),h=s||c||d&&!u,m=o?$t({screenName:o.screen_name,fullName:o.name}):void 0,p=u?"":`@${o&&o.screen_name||i||""} `,f=h?null:a.createElement(bt.a,{getLocationState:hr(p),history:r}),_=o&&!h?a.createElement(Xe.a,{isProtected:o.protected,isVerified:o.verified,name:o.name,screenName:o.screen_name,weight:"heavy",withScreenName:!1}):Mt,b=o&&!h&&t===ft.a.LOADED?this._renderSubtitle(o):void 0,w=o&&"twitter://user?screen_name="+o.screen_name,E=o&&"https://twitter.com/"+(o.screen_name||""),g=o&&Vt({fullName:o.name,screenName:o.screen_name});return a.createElement(kt.a,{backLocation:"/",composeOptions:{defaultText:p},documentTitle:m,history:r,primaryContent:a.createElement(mt.a,{fab:f},a.createElement(yt.a,{canonical:E,description:null==o?void 0:o.description,image:null==o?void 0:o.profile_image_url_https,title:g,type:"profile"}),null,a.createElement(I.a,{deepLink:w}),a.createElement(O.a,{featureSwitches:this.context.featureSwitches,loggedInUserId:e,pageType:"profile"}),E?a.createElement(S.a,{canonical:E}):null,a.createElement(_t.a,{accessibilityLabel:qt({screenName:i}),fetchStatus:o||h?ft.a.LOADED:t,onRequestRetry:this._handleRequestRetry,render:this._renderContainer}),l?a.createElement(Et.a,{history:r,location:n,userId:null==o?void 0:o.id_str}):null),rightControl:this._renderRightControl(),sidebarContent:this._renderSidebarContent(),subtitle:b,title:_})}_renderRightControl(){const{promotedContent:e,user:t}=this.props,{showFollowButtonRightControl:r}=this.state;return t&&!this._isViewingOwnProfile()?a.createElement(Nt.b,{animateMount:!0,show:r,type:"fade"},a.createElement(q.a,{promotedContent:e,userId:t.id_str})):void 0}_renderSubtitle(e){const{location:t}=this.props,r=t.pathname.toLowerCase(),s=e.screen_name.toLowerCase();return r.indexOf(`/${s}/${cr}`)>-1?a.createElement(Tt.a,{count:e.favourites_count,type:"likes"}):r.indexOf(`/${s}/${dr}`)>-1?a.createElement(Tt.a,{count:e.media_count,type:"media"}):a.createElement(Tt.a,{count:e.statuses_count,type:"tweets"})}_renderSidebarContent(){const{user:e}=this.props;return e?a.createElement(St.a,{hideMediaModule:this._shouldHideMediaModule(),userId:e.id_str}):a.createElement(k.a,null)}_renderHeader(){const{loggedInUserId:e}=this.context,{isNotFound:t,isSuspended:r,isWithheld:s,history:n,promotedContent:a,screenName:i,profileHeaderRenderer:o,restrictedProfileHeaderRenderer:l,user:c}=this.props,d=this._shouldShowProfileInterstitial();if(!this._isViewingOwnProfile()&&(r||t||d)){const{name:e}=c||{};return l({shouldDisplayUserActionSheet:!r&&!t,avatarAccessibilityLabel:t?Dt:r?jt:e,fullUser:c,restrictedUser:{name:e,screen_name:i||""}})}return c?o({history:n,loggedInUserId:e,isWithheld:s,onFollowButtonOffscreen:this._handleFollowButtonOffscreen,promotedContent:a,user:c}):null}_renderEmptyState({header:e,message:t,buttonText:r,onButtonPress:s}){return a.createElement(Ut.a,{buttonText:r,buttonType:"secondary",header:e,message:t,onButtonPress:s,style:_r.root})}_renderUserProfileInterstitialed(){const{userProfileInterstitialType:e}=this.props,{header:t,message:r}=Object(wt.a)(e);return this._renderEmptyState({header:t,message:r,buttonText:nr,onButtonPress:this._handleOnConfirmProfileInterstitial})}_renderUserProfileBlocking(){const{user:e}=this.props;if(!e)return null;const{screen_name:t}=e,r=Jt({screenName:t}),s=a.createElement(z.a.I18NFormatMessage,{$i18n:"e645092a",screenName:t},a.createElement(Ee.c,{link:"https://support.twitter.com/articles/117063"},z.a.f6a72a2a));return this._renderEmptyState({header:r,message:s,buttonText:sr,onButtonPress:this._handleShowBlockedTweets})}_renderUserProfileBlockedBy(){const{user:e}=this.props;if(!e)return null;const{screen_name:t}=e,r=a.createElement(z.a.I18NFormatMessage,{$i18n:"ccade2e6",screenName:t},a.createElement(Ee.c,{link:"https://support.twitter.com/articles/20172060"},z.a.de078c23));return this._renderEmptyState({header:Yt,message:r})}_renderUserProfileSuspended(){const e=a.createElement(z.a.I18NFormatMessage,{$i18n:"f6fa2033"},a.createElement(Ee.c,{link:"https://support.twitter.com/articles/18311"},z.a.f3b1bdc1));return this._renderEmptyState({header:Xt,message:e})}_renderUserProfileWithheld(){const{user:e}=this.props;if(!e)return null;const{id_str:t,description:r,entities:s}=e;if(!r)return null;const n=Lt.a.descriptionTextParts(r,s),i=a.createElement(Ee.c,{align:"center",color:"gray600",dir:"auto"},n.map((e,r)=>a.createElement(Bt.b,{key:`user_${t}_textpart_${r}`,linkify:!0,part:e})));return this._renderEmptyState({header:rr,message:i})}_renderLoggedInUserProfileWithheld(){const{user:e}=this.props;if(!e)return null;const{id_str:t,description:r,entities:s}=e;if(!r)return null;const n=Lt.a.descriptionTextParts(r,s);return a.createElement(R.a,null,a.createElement(R.a,{style:fr.withheldMessageRoot},a.createElement(Ee.c,{align:"center",size:"xLarge",style:fr.withheldMessageHeader,weight:"bold"},rr),a.createElement(Ee.c,{align:"center",color:"gray600",dir:"auto"},n.map((e,r)=>a.createElement(Bt.b,{key:`user_${t}_textpart_${r}`,linkify:!0,part:e})))),a.createElement(Rt.a,null),this._renderUserProfileDefault())}_renderUserProfileProtected(){const{user:e}=this.props;if(!e)return null;const{screen_name:t}=e,r=a.createElement(z.a.I18NFormatMessage,{$i18n:"c97724c2",screenName:t},a.createElement(Ee.c,{link:"https://support.twitter.com/articles/14016"},z.a.a58c8a4e));return this._renderEmptyState({header:tr,message:r})}_renderUserNotFound(){return this._renderEmptyState({header:Zt,message:er})}_renderUserProfileDefault(){const{user:e,history:{location:t}}=this.props;if(!e)return null;const{screen_name:r}=e,{showBlockedTweets:s}=this.state,i=t.query,o=e=>[{isActive:()=>t.pathname.toLowerCase()===("/"+r).toLowerCase()||t.pathname.toLowerCase()===`/${r}/`.toLowerCase()||t.pathname.indexOf("/intent/follow")>-1||t.pathname.indexOf("/intent/user")>-1,to:{pathname:"/"+r,query:i},label:Gt},{to:{pathname:`/${r}/${ur}`,query:i},label:zt},{to:{pathname:`/${r}/${dr}`,query:i},label:Qt,onClick:e()},{to:{pathname:`/${r}/${cr}`,query:i},label:Kt,onClick:e()}],l={displayBlocked:s,fullName:e.name,screenName:e.screen_name,userId:e.id_str};return a.createElement(a.Fragment,null,a.createElement(at.a,null,e=>a.createElement(At.a,{accessibilityLabel:Ht,links:o(e)})),a.createElement(Wt.d,null,a.createElement(Wt.b,{exact:!0,path:"/intent/follow"},a.createElement(ir,l)),a.createElement(Wt.b,{exact:!0,path:"/intent/user"},a.createElement(ir,l)),a.createElement(Wt.b,{exact:!0,path:"/"+Pt.C},a.createElement(ir,n()({},l,{onEntriesUpdate:this._handleEntriesUpdate}))),a.createElement(Wt.b,{exact:!0,path:`/${Pt.C}/${ur}`},a.createElement(ir,n()({},l,{withReplies:!0}))),a.createElement(Wt.b,{exact:!0,path:`/${Pt.C}/${dr}`},a.createElement(lr,l)),a.createElement(Wt.b,{exact:!0,path:`/${Pt.C}/${cr}`},a.createElement(or,l))))}_fetchOneUserIfNeeded(e){const{createLocalApiErrorHandler:t,fetchOneByScreenNameWithExtraFieldsIfNeeded:r,screenName:s}=e;s&&r(s).catch(t(pt.a))}_fetchOneUser(e){const{createLocalApiErrorHandler:t,fetchOneUser:r}=this.props;return r(e).catch(t(pt.a))}_shouldHideMediaModule(){const{user:e}=this.props;return this._shouldShowProfileInterstitial()||this._isProtectedFromViewer()||e&&(e.blocked_by||e.blocking&&!this.state.showBlockedTweets)}_isValidProfile(){const{isNotFound:e,isSuspended:t,isWithheld:r,user:s}=this.props;return s&&!s.blocking&&!s.blocked_by&&!this._isViewingOwnProfile()&&!this._isProtectedFromViewer()&&!t&&!e&&!r&&!this._shouldShowProfileInterstitial()}}y()(mr,"contextType",C.a),y()(mr,"defaultProps",{profileHeaderRenderer:e=>a.createElement(ut,e),restrictedProfileHeaderRenderer:e=>a.createElement(Ct,e),recordTTFL:P.c,recordTTFMC:P.d});var pr=Object(xt.a)(mr);const fr=N.a.create(e=>({containerGrow:{flexGrow:1},rightControlContainer:{flexDirection:"row",flexGrow:1},interstitialedProfile:{height:"100%",position:"fixed",width:"100%",filter:"blur(10px)"},withheldMessageRoot:{paddingVertical:e.spaces.space32,paddingHorizontal:e.spaces.space16},withheldMessageHeader:{paddingBottom:e.spaces.space4}})),_r=N.a.create(e=>({root:{backgroundColor:e.colors.cellBackground,borderTopWidth:1,borderTopStyle:"solid",borderTopColor:e.colors.borderColor,paddingVertical:e.spaces.space40,paddingHorizontal:e.spaces.space20}})),br=e=>a.createElement(E.a,{userId:e.user&&e.user.id_str},({scribeNamespace:t})=>a.createElement(pr,n()({},e,{scribeNamespace:t})));t.default=w(br)}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.UserProfile.dac4a1c5.js.map