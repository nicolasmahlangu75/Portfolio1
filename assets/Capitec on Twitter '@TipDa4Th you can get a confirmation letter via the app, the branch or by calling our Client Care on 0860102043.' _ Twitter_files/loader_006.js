(window.webpackJsonp=window.webpackJsonp||[]).push([[154,167],{"0af8":function(e,t,s){"use strict";s.r(t),s.d(t,"roundToNearestDevicePixel",(function(){return p})),s.d(t,"default",(function(){return u}));var i=s("KEM+"),n=s.n(i),o=s("ERkP"),r=s("n+l9"),a=s("v6aA"),c=(s("aWzz"),s("jHwr")),l=s("rHpw"),d=s("i4Oy"),h=s("MWbm");const p=({cssPixels:e,dpr:t})=>Math.round(e*t)/t;class u extends o.PureComponent{constructor(e,t){super(e,t),n()(this,"_setContentRef",e=>{this._contentNode=e}),n()(this,"_setContainerRef",e=>{this._containerNode=e}),n()(this,"_handleProgrammaticScroll",e=>{this._prevScrollY=(this._prevScrollY||0)+e,this.setState({contentOffset:Math.max(0,this.state.contentOffset+e)})}),n()(this,"_handleLayout",e=>{const t=e.nativeEvent.layout.height>this.state.contentHeight;this._updatePositioning(t)}),this.state={stickyTop:!0,stickyThreshold:0,contentOffset:0,contentHeight:0,stickyOffset:0,position:r.b()?"sticky":"static"},this._scheduleUpdatePositioning=Object(c.a)(this._updatePositioning.bind(this),window.requestAnimationFrame)}UNSAFE_componentWillMount(){const{viewport:e}=this.context;this._removeProgrammaticScrollListener=e.addProgrammaticScrollListener(this._handleProgrammaticScroll)}componentDidMount(){const{viewport:e}=this.context;if(this._updatePositioning(),this._removeScrollListener=e.addScrollListener(this._scheduleUpdatePositioning),this._containerNode){const t=this._containerNode.getBoundingClientRect(),s=e.scrollY();this._prevScrollY=s,this.setState({stickyOffset:s+t.top})}}componentWillUnmount(){this._removeScrollListener&&this._removeScrollListener(),this._removeProgrammaticScrollListener&&this._removeProgrammaticScrollListener()}render(){const{stickyTop:e,stickyThreshold:t,contentOffset:s,position:i}=this.state,n=m[i],r=window.devicePixelRatio||1,a=p({cssPixels:t,dpr:r}),c=p({cssPixels:s,dpr:r}),l={top:e?a+"px":null,bottom:e?null:a+"px"};return o.createElement(h.a,{ref:this._setContainerRef,style:[m.container,{minHeight:this.state.contentHeight}]},o.createElement(h.a,{style:{marginTop:c+"px"}}),o.createElement(h.a,{onLayout:this._handleLayout,ref:this._setContentRef,style:[this.props.style,l,n]},this.props.children))}_updatePositioning(e=!1){if(!this._contentNode||!this._containerNode)return;const t=this.context.viewport.scrollY(),s=t-this._prevScrollY;if(Math.abs(s)<.5&&!e)return;const{distanceFromBottom:i}=this.props;this._prevScrollY=t;const n=!!this._contentNode&&this._contentNode.getBoundingClientRect(),o=!!this._containerNode&&this._containerNode.getBoundingClientRect();if(!n||!o)return;const{height:a}=d.a.get("window"),c=t+o.top,l=Math.max(n.top-o.top,0);if(a-n.height>c)this._updateState({stickyTop:!0,stickyThreshold:c,contentOffset:0,stickyOffset:c,contentHeight:n.height,position:"fixed"});else{const e=s>0,t=e!==this.state.stickyTop,o=window.devicePixelRatio||1,d=n.bottom-a+i<=1/o,h=c-n.top<=1/o;if((e&&d||!e&&h)&&r.a()){const e=i,t=c;this._updateState({position:"fixed",stickyOffset:c,stickyTop:h,stickyThreshold:h?t:e,contentOffset:l,contentHeight:n.height})}else{const s=a-n.height-i,o=a-n.height-c,d=r.b()?"sticky":"static";this._updateState({position:d,stickyTop:e,stickyOffset:c,stickyThreshold:e?s:o,contentOffset:t?l:this.state.contentOffset,contentHeight:n.height})}}}_updateState(e){const t=this.state.stickyTop!==e.stickyTop,s=this.state.stickyThreshold!==e.stickyThreshold,i=Math.abs(this.state.contentOffset-e.contentOffset)>.5,n=Math.abs(this.state.stickyOffset-e.stickyOffset)>.5,o=this.state.position!==e.position,r=this.state.contentHeight!==e.contentHeight;(t||s||i||n||o||r)&&this.setState(e)}}n()(u,"contextType",a.a),n()(u,"defaultProps",{distanceFromBottom:10});const m=l.a.create(e=>({container:{height:"100%"},sticky:{position:"sticky"},fixed:{position:"fixed"},static:{position:"static"}}))},BqYg:function(e,t){function s(e,t,s){var i,n,o,r,a;function c(){var l=Date.now()-r;l<t&&l>=0?i=setTimeout(c,t-l):(i=null,s||(a=e.apply(o,n),o=n=null))}null==t&&(t=100);var l=function(){o=this,n=arguments,r=Date.now();var l=s&&!i;return i||(i=setTimeout(c,t)),l&&(a=e.apply(o,n),o=n=null),a};return l.clear=function(){i&&(clearTimeout(i),i=null)},l.flush=function(){i&&(a=e.apply(o,n),o=n=null,clearTimeout(i),i=null)},l}s.debounce=s,e.exports=s},LHcr:function(e,t,s){"use strict";s.r(t),s.d(t,"WhoToFollowContainer",(function(){return D}));s("IAdD"),s("kYxP");var i=s("KEM+"),n=s.n(i),o=s("ERkP"),r=s("Xs4Y"),a=s("kGix"),c=s("v//M"),l=s("3XMw"),d=s.n(l),h=s("Rp9C"),p=s("rHpw"),u=s("MWbm"),m=s("lP98"),f=s("RqPI"),_=s("rxPX"),y=s("0KEI"),b=s("G6rE");const g=(e,t)=>f.h(e),E=(e,t)=>{const s=b.e.select(e,t.userId);return s&&s.screen_name},I=(e,t)=>t.userId,w=(e,t)=>{const s=I(0,t),i=g(e);return m.c(e,{displayLocation:"profile_accounts_sidebar",similarToUserId:s===i?void 0:s})},v=(e,t)=>{const s=I(0,t),i=g(e);return m.b(e,{displayLocation:"profile_accounts_sidebar",similarToUserId:s===i?void 0:s})};var O=Object(_.a)().propsFromState(()=>({fetchStatus:v,loggedInUserId:g,recommendations:w,screenName:E})).propsFromActions(()=>({createLocalApiErrorHandler:Object(y.d)("WHO_TO_FOLLOW_CONTAINER"),fetchRecommendationsIfNeeded:m.a})).withAnalytics({component:"suggest_who_to_follow"}),S=s("Re5t"),U=s("hqDb"),R=s("hxu0"),T=s("6vad"),L=s("rC8y");const x=d.a.a526aa66,N=d.a.ef62501f,k=d.a.d228a9a0;var C=Object(R.a)(({withProfileHeaderText:e,userId:t,userIds:s,isInSidebar:i})=>{const n=s.length>3,r="/i/connect_people?user_id="+t;return o.createElement(u.a,{accessibilityLabel:x,accessibilityRole:"complementary"},o.createElement(T.b,{text:e?N:x}),o.createElement(U.a,{displayMode:S.a.UserCompact,userIds:s.slice(0,3),withItemBorder:!0}),n&&o.createElement(L.a,{link:r,text:k,withBottomRadius:!0,withDarkerInteractiveBackground:i}))});const H=d.a.fd6473fa,P={element:"user",action:"results"},A={viewType:"who_to_follow"};class D extends o.PureComponent{constructor(...e){super(...e),n()(this,"_renderContent",()=>{const{recommendations:e,screenName:t,userId:s,withProfileHeaderText:i}=this.props,n=e&&e.map(e=>e.user);return t?o.createElement(C,{screenName:t,userId:s,userIds:n,withProfileHeaderText:i}):null}),n()(this,"_handleImpression",e=>{const{analytics:t}=this.props,s=e&&e.slice(0,3).map(e=>Object.assign({},h.a.forUser(e.user),{suggestion_details:{source_data:e.token}}));t.scribe(Object.assign({},P,{data:{items:s}}))})}componentDidMount(){const{recommendations:e}=this.props;this._fetchRecommendations(this.props),e&&e.length>0&&this._handleImpression(e)}componentDidUpdate(e){const{recommendations:t}=this.props;this.props.userId!==e.userId&&this._fetchRecommendations(this.props),t!==e.recommendations&&t&&t.length>0&&this._handleImpression(t)}render(){const{fetchStatus:e,style:t}=this.props;return e===a.a.FAILED||this._hasEmptySuggestionList()?null:o.createElement(u.a,{style:[F.root,t]},o.createElement(c.a,{accessibilityLabel:H,clientEventContext:A,fetchStatus:e,render:this._renderContent}))}_fetchRecommendations(e){const{createLocalApiErrorHandler:t,fetchRecommendationsIfNeeded:s,userId:i,loggedInUserId:n}=e;s({limit:4,displayLocation:"profile_accounts_sidebar",similarToUserId:i!==n?i:void 0}).catch(t(r.a))}_hasEmptySuggestionList(){const{fetchStatus:e,recommendations:t}=this.props;return e===a.a.LOADED&&0===t.length}}const F=p.a.create(e=>({root:{minHeight:"15rem"}})),M=O(D);t.default=M},VY6S:function(e,t,s){"use strict";var i=s("BqYg"),n=s.n(i);t.a=(e,t,s)=>n()(e,t,s)},Xs4Y:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var i=s("k49u"),n=s("fs1G");const o={[i.a.ResourceNotFound]:{customAction:n.a}}},fyKl:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return v}));s("IAdD");var i=s("97Jx"),n=s.n(i),o=s("KEM+"),r=s.n(o),a=s("ERkP"),c=s("zfvc"),l=s("jHwr"),d=s("VY6S"),h=s("w9LO"),p=s("//dC"),u=s("lHOd"),m=s("Oe3h"),f=s("0FVZ"),_=s("7N4s"),y=s("cHvH"),b=s("rHpw"),g=s("i4Oy"),E=s("shC7"),I=s("MWbm");const w=b.a.create(e=>({rootNarrow:{maxWidth:"75%"},rootWide:{maxWidth:`calc(${e.spaces.space64} * 6)`},anchor:b.a.absoluteFillObject,mask:Object.assign({},b.a.absoluteFillObject,{position:"fixed"}),bodyRectHelper:Object.assign({},b.a.absoluteFillObject,{bottom:void 0}),content:{borderRadius:e.borderRadii.small,position:"absolute",overflow:"hidden",backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.medium},contentInitialRender:{position:"fixed",opacity:0},contentFixed:{position:"fixed",overflowY:"auto",overscrollBehavior:"contain"}}));class v extends a.Component{constructor(e,t){super(e,t),r()(this,"_handleAnimateComplete",()=>{const{onAnimateComplete:e}=this.props;e&&e()}),r()(this,"_handleEsc",e=>{const{onDismiss:t}=this.props,{altKey:s,ctrlKey:i,metaKey:n,key:o}=e;!(s||i||n)&&"Escape"===o&&t()}),r()(this,"_receiveBodyRectHelperRef",e=>{e&&this._bodyRectHelperNode!==e&&(this._bodyRectHelperNode=e,this._scheduleUpdate())}),r()(this,"_receiveAnchorRef",e=>{e&&this._anchorNode!==e&&(this._anchorNode=e,this._scheduleUpdate())}),r()(this,"_receiveContentRef",e=>{e&&this._contentNode!==e&&(this._contentNode=e,this._scheduleUpdate())}),r()(this,"_updatePosition",()=>{if(!(this._mounted&&(this._anchorNode||this.props.position)&&this._contentNode&&this._contentNode instanceof window.HTMLElement&&this._bodyRectHelperNode&&this._bodyRectHelperNode instanceof window.HTMLElement))return;const e=this._contentNode.scrollHeight,t=this._contentNode.scrollWidth,{left:s,top:i,width:n}=this._bodyRectHelperNode.getBoundingClientRect(),{width:o,height:r}=g.a.get("window");let a={left:0,top:0,height:0,width:0};this.props.position?a=Object.assign({},a,this.props.position):this._anchorNode&&this._anchorNode instanceof window.HTMLElement&&(a=this._anchorNode.getBoundingClientRect());const{left:c,top:l,height:d,width:h}=a,p=o-n,u=c-s,m=l-i,f=c+h>=t,_=l+d>=e,y=o-c>=t,b=r-l>=e,I=this.props.preferredVerticalOrientation,w=(e=>E.a.isRTL?"left"===e?"right":"left":e)(this.props.preferredHorizontalOrientation),v=this.state.verticalOrientation||(({verticalPreference:e,canOrientUp:t,canOrientDown:s})=>t&&s||!t&&!s?e:t?"up":"down")({verticalPreference:I,canOrientUp:_,canOrientDown:b}),O=this.state.horizontalOrientation||(({horizontalPreference:e,canOrientLeft:t,canOrientRight:s})=>!t||"left"!==e&&s?"right":"left")({horizontalPreference:w,canOrientLeft:f,canOrientRight:y}),S=this.props.isFixed?c:u,U=this.props.isFixed?l:m,R="up"===v?U+d-e:U,T="left"===O?o-S-h-p:o-S-t-p;this.setState({top:Math.max(R,0),right:T,verticalOrientation:v,horizontalOrientation:O})}),this.state=Object.freeze({}),this._scheduleUpdate=Object(l.a)(this._updatePosition,window.requestAnimationFrame),this._scheduleDebouncedUpdate=Object(d.a)(this._scheduleUpdate,250)}componentDidMount(){this._mounted=!0,g.a.addEventListener("change",this._scheduleDebouncedUpdate)}componentWillUnmount(){this._mounted=!1,g.a.removeEventListener("change",this._scheduleDebouncedUpdate)}render(){const{children:e,isFixed:t,onDismiss:s,animateInDuration:i,animateType:o,withKeyboardNavigation:r}=this.props,{top:l,right:d,verticalOrientation:g}=this.state,v=void 0===l,O=`calc(100vh - ${l||0}px)`,S=[w.content,v&&w.contentInitialRender,t&&[w.contentFixed,{maxHeight:O}],{top:l,right:E.a.isRTL?void 0:d,left:E.a.isRTL?d:void 0}];return a.createElement(I.a,{ref:this._receiveAnchorRef,style:w.anchor},a.createElement(f.a.Dropdown,null,a.createElement(u.a.Consumer,null,t=>a.createElement(_.a.Consumer,null,({isModal:l})=>a.createElement(p.a,{history:t,isModal:l,onDismiss:s},a.createElement(h.a,{withKeyboardNavigation:r},a.createElement(I.a,{onClick:s,style:w.mask}),a.createElement(I.a,{ref:this._receiveBodyRectHelperRef,style:w.bodyRectHelper}),a.createElement(y.a,null,({windowWidth:t})=>a.createElement(I.a,{accessibilityRole:"menu",onKeyUp:this._handleEsc,ref:this._receiveContentRef,style:[t<b.a.theme.breakpoints.medium?w.rootNarrow:w.rootWide,S]},v&&"slide"===o?e:a.createElement(c.b,{animateMount:"up"!==g,duration:i,onAnimateComplete:this._handleAnimateComplete,show:!0,type:o},({isAnimating:t})=>a.createElement(m.a,{id:"Dropdown",minimizeReporting:t},(t,s)=>a.createElement(I.a,n()({ref:t()},s({})),e)))))))))))}}r()(v,"defaultProps",{preferredHorizontalOrientation:"left",preferredVerticalOrientation:"down",animateType:"slide",animateInDuration:"normal",withKeyboardNavigation:!0})},hqDb:function(e,t,s){"use strict";s("kYxP");var i=s("97Jx"),n=s.n(i),o=s("LdEA"),r=s.n(o),a=s("KEM+"),c=s.n(a),l=s("ERkP"),d=s("k49u"),h=s("rxPX"),p=s("0KEI"),u=s("6xIQ"),m=s("kGix"),f=s("G6rE");const _=(e,t)=>t.userIds,y=(e,t)=>{const{userIds:s}=t;return s.filter(t=>!!f.e.select(e,t))},b=(e,t)=>{const{userIds:s}=t;return s.reduce((t,s)=>{const i=f.e.selectFetchStatus(e,s);return t[s]=i===m.a.NONE?m.a.LOADING:i,t},{})};var g=Object(h.a)().propsFromState(()=>({availableUserIds:Object(u.a)(y,e=>e),fetchStatus:Object(u.a)(y,b,_,(e,t,s)=>{let i=m.a.LOADED;for(let n=0;n<s.length;n++){const o=s[n];if(-1===e.indexOf(o)){const e=t[o]||m.a.LOADING;i=i===m.a.LOADED?e:i}if(i===m.a.LOADED)break}return i})})).propsFromActions(()=>({createLocalApiErrorHandler:Object(p.d)("USERS_LIST_CONTAINER"),fetchUsersIfNeeded:f.e.fetchManyIfNeeded})),E=s("v//M"),I=s("3XMw"),w=s.n(I),v=s("pQ3Z"),O=s.n(v),S=s("cFuS"),U=s("Re5t"),R=s("MWbm"),T=s("88ay");const L=({displayMode:e,renderUserCell:t,withFinalItemBorder:s,withItemBorder:i,userIds:n})=>l.createElement(R.a,null,n.map((o,r)=>{const a=r===n.length-1,c=a&&i&&s||!a&&i;return t?t(o):l.createElement(T.b,{decoration:T.d,displayMode:e,key:o,promotedItemType:S.c.USER,userId:o,withBottomBorder:!!c,withFollowsYou:!0})}));L.defaultProps={displayMode:U.a.UserDetailed,withFinalItemBorder:!0,withItemBorder:!1};var x=L;const N=w.a.f5b426c2,k={viewType:"user_list"};class C extends l.Component{constructor(...e){super(...e),c()(this,"state",{allUsersUnavailable:!1}),c()(this,"_renderContent",()=>{const e=this.props,{availableUserIds:t}=e,s=r()(e,["availableUserIds","createLocalApiErrorHandler","fetchStatus","fetchUsersIfNeeded","userIds"]);return l.createElement(x,n()({},s,{userIds:t}))}),c()(this,"_handleFetch",()=>{this._fetchUsersIfNeeded()})}componentDidMount(){this._fetchUsersIfNeeded()}componentDidUpdate(e){O()(e.userIds,this.props.userIds)||this._fetchUsersIfNeeded()}render(){return l.createElement(E.a,{accessibilityLabel:N,clientEventContext:k,fetchStatus:this.state.allUsersUnavailable?m.a.LOADED:this.props.fetchStatus,onRequestRetry:this._handleFetch,render:this._renderContent,retryable:!1})}_fetchUsersIfNeeded(){const{createLocalApiErrorHandler:e,fetchUsersIfNeeded:t,availableUserIds:s,userIds:i}=this.props;t(i).then(()=>{this.setState({allUsersUnavailable:!1})},e({[d.a.AddressBookLookupNotFound]:{customAction:()=>{0===s.length&&this.setState({allUsersUnavailable:!0})}},[d.a.OtherUserSuspended]:{customAction:()=>{0===s.length&&this.setState({allUsersUnavailable:!0})}}}))}}const H=g(C);t.a=H},jHwr:function(e,t,s){"use strict";t.a=(e,t)=>{let s=null;const i=()=>{s=null,e()};return()=>(s||(s=t(i)),s)}},lP98:function(e,t,s){"use strict";s.d(t,"c",(function(){return m})),s.d(t,"b",(function(){return f})),s.d(t,"a",(function(){return _}));s("IAdD"),s("JtPf");var i=s("/kEJ"),n=s("oEOe"),o=s("RgK2"),r=s.n(o),a=s("kGix"),c=s("Ssj5");const l=30,d={},h=({displayLocation:e,similarToUserId:t})=>e+(t?"_"+t:"");c.a.register({recommendations:function(e=d,t){if(!t.meta)return e;switch(t.type){case"rweb/recommendations/FETCH_REQUEST":{const s=h(t.meta);return Object.assign({},e,{[s]:Object.assign({},e[s],{fetchStatus:a.a.LOADING})})}case"rweb/recommendations/FETCH_FAILURE":{const s=h(t.meta);return Object.assign({},e,{[s]:Object.assign({},e[s],{fetchStatus:a.a.FAILED})})}case"rweb/recommendations/FETCH_SUCCESS":{const s=h(t.meta),i=t.payload&&t.payload.entities?t.payload.entities:{recommendations:r.a},n=(t.payload&&t.payload.result?t.payload.result:u).map(e=>i.recommendations[e]);return Object.assign({},e,{[s]:Object.assign({},e[s],{fetchStatus:a.a.LOADED,recommendations:n})})}default:return e}}});const p=[],u=[],m=(e,{displayLocation:t,similarToUserId:s})=>{const i=e.recommendations[h({displayLocation:t,similarToUserId:s})];return i&&i.recommendations?i.recommendations:p},f=(e,{displayLocation:t,similarToUserId:s})=>{const i=e.recommendations[h({displayLocation:t,similarToUserId:s})];return i?i.fetchStatus:a.a.NONE},_=e=>(t,s,o)=>{const c=s(),{displayLocation:d,similarToUserId:h}=e,p=m(c,{displayLocation:d,similarToUserId:h}),u=f(c,{displayLocation:d,similarToUserId:h})===a.a.LOADED;return p&&u?Promise.resolve(r.a):t((e=>(t,s,{api:o})=>{const{displayLocation:r,itsInterests:a,limit:c=l,similarToUserId:d}=e;return Object(n.b)(t,{request:o.Recommendations.fetch,params:{display_location:r,itsInterests:a,limit:c,user_id:d}})({actionTypes:{REQUEST:"rweb/recommendations/FETCH_REQUEST",SUCCESS:"rweb/recommendations/FETCH_SUCCESS",FAILURE:"rweb/recommendations/FETCH_FAILURE"},context:"FETCH_RECOMMENDATIONS",meta:{displayLocation:r,similarToUserId:d}},e=>{if(e)return[Object(i.c)(e.entities)]})})(e))}},sAnO:function(e,t,s){"use strict";s.r(t);var i=s("fyKl");t.default=i.default},uo3S:function(e,t,s){"use strict";s.r(t);var i=s("ERkP"),n=(s("kYxP"),s("rxPX")),o=s("VAyw"),r=s("XOJV"),a=s("s1N3");const c=e=>{var t,s;return(null==(t=e.entities)||null==(s=t.user_mentions)?void 0:s.map(e=>e.id_str))||[]},l=(e,t)=>t.focalTweetId;var d=Object(n.a)().propsFromState(()=>({tweetMap:r.a.selectAll,focalTweetId:l})).adjustStateProps(({tweetMap:e,focalTweetId:t})=>{const s=t&&e[t];if(!s)return{participantIds:[]};const i=[s.user,...c(s),...(n=s,o.a.mergeTaggedUsers(n.extended_entities&&n.extended_entities.media||[]).map(e=>e.user_id))];var n;const r=s.quoted_status&&e[s.quoted_status];return r&&(i.push(r.user),i.push(...c(r))),{participantIds:Object(a.a)(i)}}).withAnalytics({component:"in_this_conversation"}),h=s("3XMw"),p=s.n(h),u=s("6vad"),m=s("hqDb"),f=s("MWbm");const _=p.a.j88f27d8,y=({maxCount:e,participantIds:t})=>i.createElement(f.a,{accessibilityLabel:_,accessibilityRole:"complementary"},i.createElement(u.b,{text:_}),i.createElement(m.a,{userIds:t.slice(0,e),withFinalItemBorder:!1,withItemBorder:!0}));y.defaultProps={maxCount:3};var b=y;const g=d(e=>i.createElement(b,{participantIds:e.participantIds}));t.default=g}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.WideLayout.915504e5.js.map