(window.webpackJsonp=window.webpackJsonp||[]).push([[160],{"0W/e":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("rHpw");const n=e=>1===e?{height:r.a.theme.spacesPx.space48,width:r.a.theme.spacesPx.space48}:{height:r.a.theme.spacesPx.space40,width:e*r.a.theme.spacesPx.space40}},PEva:function(e,t,a){"use strict";a.r(t);a("IAdD");var r=a("ERkP"),n=a("Zl35"),l=(a("kYxP"),a("KEM+")),i=a.n(l),o=a("+xEG"),s=a("aoyV"),c=a("kCRK"),u=a("fZNH"),p=a("ub6r"),m=a("0nHQ"),d=a("USG3"),h=a("Q0n6"),b=a("5VhU"),y=a("hhMf"),f=a("Ur4q"),E=a("oH2E"),g=a("mNIZ"),S=a("MWbm"),v=a("ReFq"),C=a("VLhD");class w extends r.PureComponent{constructor(...e){super(...e),i()(this,"_renderWithHideControls",e=>{var t,a;const{containerRef:n,fullscreenAdsDisabledOnIOS:l,guestsState:i,onScribeEvent:y,playerApi:w,playerDisplayOptions:R,playerState:A,poster:k,showWatchAgain:x,useRefactoredControlBarLayout:T}=this.props;if(!w||!A)return null;const _=Object(h.e)(A),O=(null==_?void 0:_.contentType)===c.a.GIF,P="PLAY_REQUESTED"!==(null==(t=A.controls)?void 0:t.playState),L=x&&A.tracksFinished,{Observer:I,observed:B}=e,F=Object(C.c)(A,B,C.b),D=!!A.error,j=F&&A.isPreview,N=!(!F||!(null==_?void 0:_.isLive)),W=!(null==R?void 0:R.hideLeftBadges)&&(O||j||N),M=!(null==R?void 0:R.hideRightBadges)&&F,H=!(null==R?void 0:R.hidePosterImage),U=null==(a=A.controls)?void 0:a.isPosterShown;return r.createElement(u.a,{playerState:A},r.createElement(I,{click:!0,interactionKey:C.a.Root,mousemove:!0,mouseover:!0},D?null:r.createElement(r.Fragment,null,r.createElement(f.a,{hideControls:F,isTouchOnlyUI:C.b,playerApi:w,playerDisplayOptions:R,playerState:A}),H&&!L&&r.createElement(E.a,{imageSrc:k,playerApi:w,playerState:A,withPlayButton:P}),r.createElement(s.a,{playerState:A}),!O&&x&&r.createElement(v.a,{onScribeEvent:y,playerApi:w,playerState:A}),r.createElement(b.a,{guestsState:i,playerState:A}),!O&&r.createElement(I,{focus:!0,interactionKey:C.a.VideoCTA,mouseover:!0},r.createElement(d.a,{show:!F},r.createElement(g.a,{playerApi:w,playerState:A}))),!O&&!U&&r.createElement(r.Fragment,null,r.createElement(I,{focus:!0,interactionKey:C.a.A11YHook},r.createElement(S.a,{accessible:!0})),r.createElement(I,{focus:!0,interactionKey:C.a.ControlBar,mouseover:!0,touch:!0},r.createElement(p.a,{containerRef:n,fullscreenAdsDisabledOnIOS:l,hideControls:F,playerApi:w,playerState:A,publisherDisplayName:null==_?void 0:_.publisherDisplayName,publisherProfileImageUrl:null==_?void 0:_.publisherProfileImageUrl,showScrubber:"ad"!==(null==_?void 0:_.displayType)&&!(null==_?void 0:_.isLive),useRefactoredControlBarLayout:T}))),r.createElement(d.a,{show:W},r.createElement(o.a,{playerDisplayOptions:R,playerState:A,position:"left"})),r.createElement(d.a,{show:M},r.createElement(o.a,{playerDisplayOptions:R,playerState:A,position:"right"}))),r.createElement(d.a,{show:D},D&&r.createElement(m.a,{imageSrc:k,playerApi:w,playerState:A}))))})}render(){const{playerApi:e,playerState:t}=this.props;return e&&t?r.createElement(y.a,null,r.createElement(y.a.Context.Consumer,null,this._renderWithHideControls)):null}}var R=w,A=a("t62R"),k=a("Wms4"),x=a("vCAy"),T=a("w05h"),_=a("IE/l"),O=a("N2PN"),P=a("dPHj"),L=a("aNKf"),I=a("/yvb"),B=a("0W/e"),F=a("Lsrn"),D=a("k/Ka");const j=(e={})=>Object(D.a)("svg",Object.assign({},e,{style:[F.a.root,e.style],viewBox:"0 0 24 24"}),r.createElement("g",null,r.createElement("path",{d:"M20.5 2h-1c-.828 0-1.5.672-1.5 1.5v6.976L4.87 2.116c-.228-.146-.522-.157-.762-.023-.24.132-.39.384-.39.657v18.5c0 .273.15.525.39.657.113.063.237.093.36.093.142 0 .28-.04.403-.117L18 13.527V20.5c0 .828.672 1.5 1.5 1.5h1c.828 0 1.5-.672 1.5-1.5v-17c0-.828-.672-1.5-1.5-1.5z"})));j.metadata={width:24,height:24};var N=j,W=a("cm6r"),M=a("fs1G"),H=a("rHpw"),U=a("U+bB");const V=H.a.create(({colors:e,borderRadii:t,borderWidths:a,spaces:r})=>({thumbnail:{backgroundColor:e.translucentBlack77,borderRadius:t.small,display:"flex",flexDirection:"row",overflow:"hidden",opacity:1},thumbnailRtl:{flexDirection:"row-reverse"},thumbnailFocused:{boxShadow:`0 0 0 ${a.medium} ${e.white}`,outlineStyle:"none"},countdownTime:{paddingHorizontal:r.space4,minWidth:"1em",display:"flex",alignItems:"center",justifyContent:"center",fontVariant:["tabular-nums"]},iconLeftMargin:{marginLeft:"0.5em"}}));var z=({onClick:e})=>{const{playerState:t,aspectRatio:a}=r.useContext(n.b.PeriodicContext);if(!t)return null;const l=Object(h.e)(t);if(!l||l.displayType!==c.c.AD)return null;const i=l.durationMs,o=i<7e3,s=(o?i:5e3)-(l.currentTimeMs||0),u=s>250,p=s<0,m=Object(h.d)(l)||0,b=Object(h.f)(l)||0,y=(o?b:5)-m,f=Object(T.m)({seconds:Object(T.q)(y)});return r.createElement(W.a,{accessibilityLabel:p?T.l:f,accessibilityRole:"button",accessible:!0,interactive:!0,interactiveStyles:null,onClick:p&&e?e:M.a,testID:"ControlBar-containerView"},e=>r.createElement(r.Fragment,null,!p&&r.createElement(d.a,{show:u},r.createElement(S.a,{style:[V.thumbnail,!1,e.isFocused&&V.thumbnailFocused],testID:"ControlBar-videoThumbnail"},r.createElement(A.c,{color:"white",size:"small",style:V.countdownTime},y),r.createElement(U.a,{source:t.posterImage,style:Object(B.a)(a)}))),r.createElement(d.a,{show:p},r.createElement(I.a,{accessible:!1,interactivityState:e,pointerEvents:"auto",size:"normalCompact",testID:"ControlBar-skipButton",type:"onMedia"},r.createElement(A.c,{weight:"normal"},T.k),r.createElement(N,{style:V.iconLeftMargin})))))},K=a("aITJ"),Y=a("kRXa"),G=a("BVo1"),X=a("wtsM"),q=a("5Ixf"),$=a("AtEG"),Q=a("NnQ9"),J=a("p6DB");const Z={CAPTIONS:"PrerollControlBar-Captions",FULLSCREEN:"PrerollControlBar-Fullscreen"};class ee extends r.Component{constructor(...e){super(...e),i()(this,"_parentRef",r.createRef()),i()(this,"_renderRightContent",e=>{const{playerApi:t,playerState:a}=this.props;if(!t||!a)return null;const n=K.a.isIOS();return r.createElement(r.Fragment,null,this._renderTimePlayed(),this._renderVolumeControls(t,a),!n&&r.createElement(e,{focus:!0,interactionKey:Z.FULLSCREEN,interactionTimeoutMs:0,mouseover:!0},this._renderFullScreenButton(t,a)))}),i()(this,"_renderActionButton",(e,t)=>{const{isPlaying:a,controls:n}=t,{play:l,pause:i}=e,o=Object(h.e)(t);return!o||o.isLive?null:a||n&&"PLAY_REQUESTED"===n.playState?r.createElement(O.a,{accessibilityLabel:X.d,hoverLabelPreferredHorizontalOrientation:"end",icon:r.createElement(q.a,null),onPress:i}):r.createElement(O.a,{accessibilityLabel:X.e,hoverLabelPreferredHorizontalOrientation:"end",icon:r.createElement($.a,null),onPress:l})}),i()(this,"_renderAdText",()=>r.createElement(P.a,null,T.o)),i()(this,"_renderTimePlayed",()=>r.createElement(n.a,{periodic:!0},({playerState:e})=>{const t=Object(h.e)(e),a=Object(h.d)(t),n=Object(h.f)(t);return t&&"number"==typeof a&&n&&!t.isLive?r.createElement(P.a,null,`${Object(h.b)(a)} / ${Object(h.b)(n)}`):null})),i()(this,"_renderVolumeControls",(e,t)=>{const{isMuted:a,volume:n}=t,{mute:l,unmute:i,setVolume:o}=e,s=a?i:l,c=a?X.g:X.c;return r.createElement(Y.a,{accessibilityLabelIcon:c,accessibilityLabelSlider:X.h,isMuted:a,onMuteToggle:s,onSliderChange:this._setVolumePercent(o),volumePercent:100*n})}),i()(this,"_setVolumePercent",e=>t=>{e(t/100)}),i()(this,"_renderFullScreenButton",(e,t)=>{const{fullscreen:a}=t;return a.isFullscreen?r.createElement(O.a,{accessibilityLabel:X.b,hoverLabelPreferredHorizontalOrientation:"start",icon:r.createElement(ae,{isFullscreen:a.isFullscreen}),onPress:this._exitFullScreen(e)}):r.createElement(O.a,{accessibilityLabel:X.a,hoverLabelPreferredHorizontalOrientation:"start",icon:r.createElement(ae,{isFullscreen:a.isFullscreen}),onPress:this._requestFullScreen(e)})}),i()(this,"_requestFullScreen",e=>()=>{e.fullScreen(this.props.containerRef)}),i()(this,"_exitFullScreen",e=>()=>e.exitFullScreen()),i()(this,"_renderSkipAffordance",()=>r.createElement(S.a,{pointerEvents:"none",style:te.skipAffordance},r.createElement(z,null)))}render(){const{playerApi:e,playerState:t,displayDismissableControls:a,skipButton:n,useRefactoredControlBarLayout:l}=this.props;if(!e||!t)return null;const i=t.fullscreen.isFullscreen;return r.createElement(y.a.ObserverContext.Consumer,null,o=>r.createElement(S.a,{ref:this._parentRef,style:te.root},l?r.createElement(_.a,{actionButton:this._renderActionButton(e,t),displayDismissableControls:a,leftContent:this._renderAdText(),rightContent:this._renderRightContent(o),skipButton:n}):r.createElement(L.a,{colors:[H.a.theme.colors.transparent,H.a.theme.colors.translucentBlack77],style:G.d},r.createElement(S.a,{style:G.c},r.createElement(S.a,{style:G.a},this._renderActionButton(e,t),r.createElement(S.a,{style:[G.g.flexRow,G.g.flexShrink]},this._renderAdText())),r.createElement(S.a,{style:G.b},this._renderRightContent(o),i&&this._renderSkipAffordance())))))}}const te=H.a.create(e=>({root:{writingDirection:"ltr",cursor:"auto",width:"100%"},skipAffordance:{marginLeft:e.spaces.space12,visibility:"hidden"}}));function ae({style:e,isFullscreen:t}){const{hidden:a,shown:n}=re;return r.createElement(r.Fragment,null,r.createElement(Q.a,{style:t?a:n}),r.createElement(J.a,{style:t?n:a}))}const re={hidden:{display:"none",height:"1.5em"},shown:{display:"block",height:"1.5em"}};var ne=ee,le=a("oSwX");class ie extends r.PureComponent{constructor(...e){super(...e),i()(this,"_buildMessage",(e,t)=>{switch(e){case c.d.watch_now:return t?Object(T.e)({advertiserName:t}):T.j;case c.d.shop:return t?Object(T.c)({advertiserName:t}):T.h;case c.d.see_more:return t?Object(T.b)({advertiserName:t}):T.g;case c.d.go_to:return t?Object(T.a)({advertiserName:t}):T.f;case c.d.visit_site:default:return t?Object(T.d)({advertiserName:t}):T.i}}),i()(this,"_handlePress",(e,t)=>()=>{e.callToActionClicked(),window.open(t,"_blank")})}componentDidMount(){const{playerApi:e}=this.props;e&&e.callToActionImpression()}render(){const{playerApi:e,advertiserName:t,avatarUri:a,ctaType:n,ctaUrl:l}=this.props;if(!e)return null;const i=this._buildMessage(n,t);return r.createElement(I.a,{accessibilityLabel:i,icon:a?r.createElement(le.default,{size:"medium",style:oe.avatar,uri:a}):void 0,onPress:this._handlePress(e,l),size:"small",style:oe.root,type:"onMedia"},i)}}const oe=H.a.create(e=>({root:{position:"absolute",left:e.spaces.space12,top:e.spaces.space12},avatar:{borderColor:e.colors.white,backgroundColor:e.colors.white,borderWidth:e.borderWidths.small,boxShadow:"0 0 0 0.1px "+e.colors.white}}));var se=ie;const ce=H.a.create(e=>({root:{position:"absolute",top:0,left:0,width:"100%"},gradientContainer:{padding:e.spaces.space16},flexRow:{alignItems:"center",flexDirection:"row"},rightSpacing:{marginRight:e.spaces.space4}}));var ue=({children:e})=>r.createElement(S.a,{style:ce.root},r.createElement(L.a,{colors:[H.a.theme.colors.translucentBlack77,H.a.theme.colors.transparent],style:ce.gradientContainer},r.createElement(S.a,{style:ce.flexRow},r.Children.toArray(e).map((e,t,{length:a})=>{const n="LinearGradient-children-"+t,l=t<a-1?ce.rightSpacing:"";return r.createElement(S.a,{key:n,style:l},e)}))));class pe extends r.Component{constructor(...e){super(...e),i()(this,"state",{showControlBar:!1,stackedLabels:!1}),i()(this,"_durationLabelRef",r.createRef()),i()(this,"_descriptionLabelRef",r.createRef()),i()(this,"_handleLayout",()=>{var e,t;const a=null==(e=this._durationLabelRef)?void 0:e.current,r=null==(t=this._descriptionLabelRef)?void 0:t.current;a&&r&&a.measure((e,t)=>{r.measure((e,a)=>{t!==a?this.setState({stackedLabels:!0}):this.setState({stackedLabels:!1})})})}),i()(this,"_renderRefactoredPrerollControlBar",e=>{const{containerRef:t,onSkip:a,playerApi:n,playerState:l,useRefactoredControlBarLayout:i}=this.props;if(!n||!l)return null;const{Observer:o,observed:s}=e,c=Object(C.c)(l,s,C.b),u=l.fullscreen.isFullscreen;return r.createElement(S.a,{style:me.bottomContentContainer},r.createElement(S.a,{style:me.bottomContentRow},r.createElement(S.a,{style:[me.forceFullWidth,me.flexDirectionRow]},r.createElement(o,{focus:!0,interactionKey:C.a.A11YHook},r.createElement(S.a,{accessible:!0})),r.createElement(S.a,{style:me.flexExpand},r.createElement(S.a,{style:me.labelContainerAbsolute},r.createElement(d.a,{show:c},r.createElement(S.a,{style:[me.bottomContentRow,me.rowBottomSpace,!1]},this._renderLabels(!1)))),!u&&r.createElement(S.a,{style:[me.bottomContentRow,!1]},r.createElement(S.a,{style:[me.skipThumbnail,me.skipThumbnailAbsolute],testID:de.floatSkipThumbnail},r.createElement(z,{onClick:a}))),r.createElement(o,{focus:!0,interactionKey:C.a.ControlBar,mouseover:!0,touch:!0},r.createElement(ne,{containerRef:t,displayDismissableControls:!c,playerApi:n,playerState:l,skipButton:u&&r.createElement(S.a,{style:[me.skipThumbnail,me.skipThumbnailRelative],testID:de.inlineSkipThumbnail},r.createElement(z,{onClick:a})),useRefactoredControlBarLayout:i}))))))}),i()(this,"_renderOriginalPrerollControlBar",e=>{const{containerRef:t,onSkip:a,playerApi:n,playerState:l}=this.props;if(!n||!l)return null;const{Observer:i,observed:o}=e,s=Object(C.c)(l,o,C.b),c=l.fullscreen.isFullscreen;return r.createElement(r.Fragment,null,r.createElement(d.a,{show:s},r.createElement(S.a,{style:me.bottomContentContainer},r.createElement(S.a,{style:[me.bottomContentRow,me.rowBottomSpace,!1]},this._renderLabels(!1),r.createElement(S.a,{style:[me.skipThumbnail,me.alignRight,me.hidden]},r.createElement(z,null))))),r.createElement(S.a,{style:me.bottomContentContainer},!c&&r.createElement(S.a,{style:[me.bottomContentRow,!1]},r.createElement(S.a,{style:[me.skipThumbnail,me.skipThumbnailAbsolute],testID:de.floatSkipThumbnail},r.createElement(z,{onClick:a}))),r.createElement(S.a,{style:me.bottomContentRow},r.createElement(S.a,{style:me.forceFullWidth},r.createElement(i,{focus:!0,interactionKey:C.a.A11YHook},r.createElement(S.a,{accessible:!0})),r.createElement(d.a,{show:!s},r.createElement(i,{focus:!0,interactionKey:C.a.ControlBar,mouseover:!0,touch:!0},r.createElement(ne,{containerRef:t,playerApi:n,playerState:l}))))),c&&r.createElement(S.a,{style:[me.skipThumbnail,me.skipThumbnailAbsolute],testID:de.inlineSkipThumbnail},r.createElement(z,{onClick:a}))))}),i()(this,"_renderWithIntentionContext",e=>{const{playerApi:t,playerState:a,useRefactoredControlBarLayout:n}=this.props;if(!t||!a)return null;const l=Object(h.e)(a),i=null==l?void 0:l.advertiserProfileImageUrl,o=null==l?void 0:l.advertiserName,s=null==l?void 0:l.cta;return r.createElement(r.Fragment,null,s?r.createElement(se,{advertiserName:o,avatarUri:i,ctaType:s.type,ctaUrl:s.url,playerApi:t}):r.createElement(ue,null,i&&r.createElement(le.default,{size:"medium",style:me.avatarBorder,uri:i}),o&&r.createElement(A.c,{color:"white",weight:"bold"},o)),n?this._renderRefactoredPrerollControlBar(e):this._renderOriginalPrerollControlBar(e))}),i()(this,"_renderLabels",e=>r.createElement(n.a,{periodic:!0},({playerState:t})=>{const a=Object(h.e)(t),n=Object(h.f)(a),l=Object(h.d)(a)||0,i=n?n-l:null,o=a&&"number"==typeof i&&!a.isLive?r.createElement(S.a,{ref:this._durationLabelRef},r.createElement(k.a,{key:"PrerollVideoOverlay-DurationLabel",style:[x.b.label,x.b.spaceRight,x.b.borderRadiusLeft,this.state.stackedLabels&&x.b.borderRadiusRight,this.state.stackedLabels&&me.labelBottomSpace]},r.createElement(A.c,{numberOfLines:1},Object(h.b)(i)))):null,s=r.createElement(S.a,{ref:this._descriptionLabelRef},r.createElement(k.a,{key:"PrerollVideoOverlay-DescriptionLabel",style:[x.b.label,x.b.spaceRight,x.b.borderRadiusRight,this.state.stackedLabels&&x.b.borderRadiusLeft]},r.createElement(A.c,{numberOfLines:1},T.o))),c=[me.labelContainer,me.alignLeft],u=[me.labelContainer,me.alignRight,me.flexRowReverse];return r.createElement(S.a,{onLayout:this._handleLayout,pointerEvents:"none",style:e?u:c},o,s)}))}render(){const{playerApi:e,playerState:t}=this.props;return e&&t?r.createElement(y.a.Context.Consumer,null,this._renderWithIntentionContext):null}}const me=H.a.create(e=>({avatarBorder:{borderColor:e.colors.white,backgroundColor:e.colors.white,borderWidth:e.borderWidths.small,boxShadow:"0 0 0 0.1px "+e.colors.white},bottomContentContainer:{flexWrap:"wrap",flexDirection:"row",position:"absolute",bottom:0,width:"100%"},labelContainerAbsolute:{flexWrap:"wrap",flexDirection:"row",position:"absolute",bottom:0,maxWidth:"65%"},bottomContentRow:{alignItems:"flex-end",flexWrap:"nowrap",flexDirection:"row",flexGrow:1,flexShrink:0,justifyContent:"space-between",width:"100%"},rowBottomSpace:{marginBottom:e.spaces.space12},forceFullWidth:{width:"100%"},labelBottomSpace:{marginBottom:e.spaces.space2},alignLeft:{marginLeft:e.spaces.space12},alignRight:{marginRight:e.spaces.space12},labelContainer:{justifyContent:"flex-start",flexWrap:"wrap",flexGrow:1,flexShrink:1,flexBasis:"auto",flexDirection:"row"},skipThumbnail:{flexGrow:0,flexShrink:0,flexBasis:"auto",alignItems:"flex-end"},skipThumbnailRelative:{marginBottom:e.spaces.space12,marginRight:e.spaces.space12},skipThumbnailAbsolute:{position:"absolute",bottom:e.spaces.space12,right:e.spaces.space12,maxWidth:"35%"},flexExpand:{flexGrow:1,flexShrink:1,flexBasis:0},flexRowReverse:{flexDirection:"row-reverse"},flexDirectionRow:{flexDirection:"row"},flexWrap:{flexWrap:"wrap",justifyContent:"space-between"},hidden:{visibility:"hidden"}})),de={floatSkipThumbnail:"float-SkipThumbnail",inlineSkipThumbnail:"inline-SkipThumbnail"};var he=pe,be=a("uz49");class ye extends r.PureComponent{constructor(...e){super(...e),i()(this,"state",{wasPrerollSkipped:!1}),i()(this,"_renderWithRedesignedPrerollUx",e=>{var t;const{playerApi:a,playerState:l,prerollCustomContextMenuDisabled:i,poster:o}=this.props;if(!a||!l)return null;const s=Object(h.e)(l),p=(null==s?void 0:s.displayType)===c.c.AD&&(null==s?void 0:s.playbackCompleted),m=null==(t=l.errorInfo)?void 0:t.adFailed;if(this.state.wasPrerollSkipped||p||m)return r.createElement(n.a,null,({aspectRatio:e})=>{const t=o||l.posterImage;return r.createElement(be.a,{aspectRatio:e,imageSrc:t,onTransitionComplete:this._handleTransitionAnimationComplete})});return(null==s?void 0:s.displayType)===c.c.AD&&i?this._renderPrerollVideo(e):r.createElement(u.a,{playerState:l},this._renderPrerollVideo(e))}),i()(this,"_renderPrerollVideo",e=>{var t;const{containerRef:a,playerApi:n,playerDisplayOptions:l,playerState:i,poster:o,showWatchAgain:c,useRefactoredControlBarLayout:u}=this.props;if(!n||!i)return null;const{Observer:p,observed:h}=e,b="PLAY_REQUESTED"!==(null==(t=i.controls)?void 0:t.playState),y=c&&i.tracksFinished,g=Object(C.c)(i,h,C.b),S=!!i.error,v=!(null==l?void 0:l.hidePosterImage);return r.createElement(p,{click:!0,interactionKey:C.a.Root,mousemove:!0,mouseover:!0},S?null:r.createElement(r.Fragment,null,r.createElement(f.a,{hideControls:g,isTouchOnlyUI:C.b,playerApi:n,playerDisplayOptions:l,playerState:i}),v&&!y&&r.createElement(E.a,{imageSrc:o,playerApi:n,playerState:i,withPlayButton:b}),r.createElement(s.a,{playerState:i}),r.createElement(he,{containerRef:a,onSkip:this._handleSkip,playerApi:n,playerState:i,useRefactoredControlBarLayout:u})),r.createElement(d.a,{show:S},S&&r.createElement(m.a,{imageSrc:o,playerApi:n,playerState:i})))}),i()(this,"_handleSkip",()=>{const{playerApi:e}=this.props;e&&e.pause(),this.setState({wasPrerollSkipped:!0})}),i()(this,"_handleTransitionAnimationComplete",()=>{const{playerApi:e}=this.props;e&&e.nextTrack()})}render(){const{playerApi:e,playerState:t}=this.props;if(!e||!t)return null;const a=Object(h.e)(t);return(null==a?void 0:a.displayType)===c.c.AD&&(null==a?void 0:a.useRedesignedPrerollUx)?r.createElement(y.a,null,r.createElement(y.a.Context.Consumer,null,this._renderWithRedesignedPrerollUx)):r.createElement(R,this.props)}}var fe=ye;class Ee extends r.PureComponent{render(){const{playerApi:e,playerState:t,useRedesignedPrerollUx:a}=this.props;return e&&t?a?r.createElement(n.a,{periodic:!0},({playerState:e})=>r.createElement(fe,Object.assign({},this.props,{playerState:e}))):r.createElement(R,this.props):null}}t.default=Ee},ReFq:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a("IAdD"),a("kYxP");var r=a("KEM+"),n=a.n(r),l=a("ERkP"),i=a("/yvb"),o=a("3XMw"),s=a.n(o),c=a("rHpw"),u=a("MWbm");const p=s.a.f2d4e6f1;class m extends l.PureComponent{constructor(...e){super(...e),n()(this,"_createWatchAgainHandler",e=>t=>{const{onScribeEvent:a,playerApi:r}=this.props;t.stopPropagation(),a&&a({namespace:{element:e,action:"click"}}),r&&r.replay()}),n()(this,"_handleOnPress",this._createWatchAgainHandler("watch_again_button")),n()(this,"_handleOnClick",this._createWatchAgainHandler("watch_again_overlay"))}render(){const{playerState:e}=this.props;return e&&e.tracksFinished?l.createElement(u.a,{onClick:this._handleOnClick,style:d.overlay},l.createElement(i.a,{accessibilityLabel:p,onPress:this._handleOnPress,type:"onMedia"},p)):null}}const d=c.a.create(e=>({overlay:Object.assign({},c.a.absoluteFillObject,{backgroundColor:c.a.theme.colors.translucentBlack30,alignItems:"center",justifyContent:"center"})}))},uz49:function(e,t,a){"use strict";a("IAdD"),a("kYxP");var r=a("ERkP"),n=a("0W/e"),l=a("rHpw"),i=a("U+bB"),o=a("MWbm");const s={animationStage:"INITIAL",containerSize:null,imageTransform:null},c=(e=s,t)=>{switch(t.type){case"SET_TRANSFORM":if("INITIAL"===e.animationStage){const{aspectRatio:a,containerHeight:r,containerWidth:i}=t.payload,o=Object(n.a)(a),s={width:i,height:r},c={scaleX:o.width/i,scaleY:o.height/r,translateX:-1*l.a.theme.spacesPx.space12,translateY:-1*l.a.theme.spacesPx.space12};return Object.assign({},e,{animationStage:"SET_TRANSFORM",containerSize:s,imageTransform:c})}return e;case"START_ANIMATION":return"SET_TRANSFORM"===e.animationStage?Object.assign({},e,{animationStage:"START_ANIMATION",imageTransform:{scaleX:1,scaleY:1,translateX:0,translateY:0}}):e;case"FINISH_ANIMATION":return Object.assign({},e,{animationStage:"FINISH_ANIMATION"});default:return e}};const u={imageFill:{width:"100%",height:"100%"},transitionStyle:{transitionDuration:"250ms",transitionProperty:"transform",transitionTimingFunction:"ease",transformOrigin:"bottom right"},posterPositionStyle:{position:"absolute",right:"0",bottom:"0"}};t.a=function({aspectRatio:e,imageSrc:t,onTransitionComplete:a}){const[n,p]=r.useReducer(c,s),{animationStage:m,containerSize:d,imageTransform:h}=n,b=r.useCallback(t=>{if(null!=t){const{height:a,width:r}=t.getBoundingClientRect();requestAnimationFrame(()=>{p({type:"SET_TRANSFORM",payload:{aspectRatio:e,containerHeight:a,containerWidth:r}})})}},[e]),y=r.useCallback(e=>{requestAnimationFrame(()=>{p({type:"START_ANIMATION"})})},[]),f=r.useCallback(()=>{p({type:"FINISH_ANIMATION"})},[]);return r.useEffect(()=>{t||f()},[t,f]),r.useEffect(()=>{"FINISH_ANIMATION"===m&&a&&a()},[a,m]),r.useEffect(()=>{if("START_ANIMATION"===m){const e=setTimeout(()=>{f()},300);return function(){clearTimeout(e)}}},[m,f]),r.createElement(o.a,{ref:b,style:l.a.absoluteFill},(()=>{if(null==d||null==h||!t)return null;const e={position:"absolute",height:d.height,width:d.width,right:"0",bottom:"0"},{scaleX:a,scaleY:n,translateX:l,translateY:o}=h,s={transform:`matrix(${a}, 0, 0, ${n}, ${l}, ${o})`},c=Object.assign({},u.transitionStyle,u.posterPositionStyle,e,s);return r.createElement("div",{onTransitionEnd:f,style:c},r.createElement(i.a,{ref:y,source:t,style:u.imageFill}))})())}}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/loaders.video.VideoPlayerDefaultUI.e934a295.js.map